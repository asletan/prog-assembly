;****************************************************************
;
;   Début du programme
;
         STRO bienvenu,d ; affichage du message de bienvenue
         

boucle:  STRO question,d ; ; affichage de la question pour l'entrée de la date 

         CHARI annee,d ; lecture de l'année entrée

         LDBYTEA annee,d ; charge dans le registre A
         CPA '\n',i ; compare si c'est un ENTREE
         BREQ termine ; termmine le programme

         CPA '0',i
         BRLT elimine
         CPA '9',i
         BRGT elimine
         
         CHARI mois,d ; lecture du mois entré

         CPA '0',i
         BRLT elimine
         CPA '9',i
         BRGT elimine

         CHARI jour,d ; lecture du jour entré

         CPA '0',i
         BRLT elimine
         CPA '9',i
         BRGT elimine

elimine: LDBYTEA tiret,d ; charge dans l'accumulateur
         CPA '-',i ; compare si tiret est '-'
         BRNE invalide
         CPA '\n',i
         BRNE invalide
         
;
; comment comparer les nombrs et deplacer les variables dans un registre
;



;
invalide:STRO msginval,d

         BR boucle ; recommence le programme

termine: STRO msgfin,d ; imprime le message de fin


         STOP
;
;   Fin du programme
;
;****************************************************************
;
;   Variables
;
 bienvenu:.ASCII "Bienvenue dans CALCULATEUR DE DATE JULIENNE \n\n"
          .ASCII "Ce programme calcule la date julienne de n'importe quelle date entrée entre 1901 et 2050."
          .ASCII "C'est-à-dire, le nombre de jours qui s'est écoulé depuis le 1er Janvier de cette année."       
          .ASCII "Néanmoins le seul format qui sera accepté est aaaa-mm-jj (année-mois-jour) suivi de la touche entré. \n\n\x00"
 question:.ASCII "Veuillez entrer la date à calculer : "
 annee:.BLOCK 4 ; année de la date
 mois:.BLOCK 2 ; mois de la date
 jour:.BLOCK 2 ; jour de la date
 tiret:.BLOCK 1 ; élimination tiret de la date
 anneemin:.WORD 1901 ; année limite minimal
 anneemax:.WORD 2050 ; année limite maximal

 msginval:.ASCII "Cette date est invalide.\n\x00"
 msgfin:.ASCII "Programme terminé. Merci.\n\x00"

         .END
